{"version":3,"sources":["webpack:///./src/components/contact/contact.js","webpack:///./src/templates/default.js"],"names":["getResponseClass","responseText","classNames","contact__actions__response","expanded","FormActions","_ref","loading","submitBtnTxt","btnTxt","content","react_default","a","createElement","index_es","className","icon","faSpinner","type","primary-btn","contact__actions__spinner","disabled","Contact","props","_this","_React$Component","call","this","handleSubmit","e","preventDefault","setState","form","target","errors","validateForm","length","data","FormData","sendToEmailService","handleChange","_this$setState","_e$target","name","value","state","email","message","push","NAME_IS_EMPTY","EMAIL_IS_EMPTY","match","EMAIL_FORMAT_REGEX","EMAIL_IS_NOT_FORMATTED","MESSAGE_IS_EMPTY","sendToFakeEmailService","_this2","randomResponse","Math","random","setTimeout","fetch","method","redirect","headers","Accept","Content-Type","Access-Control-Allow-Origin","body","then","response","console","log","json","jsonResponse","catch","error","render","_this3","_this$props","_this$props$meta","meta","heading","address","elemId","_this$state","id","title","onSubmit","action","noValidate","placeholder","namePlaceholder","maxLength","onChange","required","includes","emailPlaceholder","messagePlaceholder","rows","contact_FormActions","style","display","faMapMarkerAlt","line1","line2","country","faEnvelope","React","Component","withLocation","withShowcase","DefaultTemplate","_ref2","components","pageContext","layout","map","i","comName","toLowerCase","banner","key","grid","callToAction","contact_contact","imageText","cards","hero","pills","quartet","networkGraph","componentResolver","position"],"mappings":"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","file":"component---src-templates-default-js-8a37d5f964241ea2aeaf.js","sourcesContent":["import React from 'react'\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport {\n  faMapMarkerAlt,\n  faEnvelope,\n  faSpinner,\n} from '@fortawesome/free-solid-svg-icons'\nimport './contact.scss'\nimport withLocation from '../common/withLocation'\nimport withShowcase from '../common/withShowcase/withShowcase'\nimport {\n  EMAIL_FORMAT_REGEX,\n  EMAIL_IS_EMPTY,\n  EMAIL_IS_NOT_FORMATTED,\n  MESSAGE_IS_EMPTY,\n  NAME_IS_EMPTY,\n} from '../common/constants'\nimport classNames from 'classnames'\n\n/**\n * Utility to return classes for response area\n * @param responseText Information text showed to the user about the status of the form submission\n * @returns {string}\n */\nconst getResponseClass = responseText =>\n  classNames({\n    contact__actions__response: true,\n    expanded: responseText,\n  })\n\n/**\n * Utility to return classes for submit button\n * @param loading Boolean while an AJAX call is in progress\n * @returns {string}\n */\nconst getSubmitButtonClass = () =>\n  classNames({\n    'primary-btn': true,\n    contact__actions__spinner: false,\n  })\n\n/**\n * The component that renders the form's actions bar. It contains the submit button and a message area\n * @param loading Boolean while an AJAX call is in progress\n * @param responseText The response text from the AJAX call\n * @param submitBtnTxt User provided text of the submit button\n */\nconst FormActions = ({ loading, responseText, submitBtnTxt }) => {\n  const btnTxt = responseText ? 'OK' : submitBtnTxt\n  const content = loading ? (\n    <FontAwesomeIcon className={'contact__actions__spinner'} icon={faSpinner} />\n  ) : (\n    btnTxt\n  )\n  return (\n    <div className=\"contact__actions\">\n      <div className={getResponseClass(responseText)}>{responseText}</div>\n      <button\n        type=\"submit\"\n        className={getSubmitButtonClass(loading)}\n        disabled={loading}\n      >\n        {content}\n      </button>\n    </div>\n  )\n}\n\n/**\n * The class that renders the contact form\n */\nclass Contact extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      name: '',\n      email: '',\n      message: '',\n      errors: [],\n      responseText: '',\n      loading: false,\n    }\n  }\n\n  handleSubmit = (e, responseText) => {\n    e.preventDefault()\n    if (responseText) {\n      this.setState({ responseText: '' })\n      return\n    }\n    const form = e.target\n    const errors = this.validateForm(form)\n    if (errors.length > 0) {\n      this.setState({ errors })\n    } else {\n      this.setState({ errors: [] })\n      const data = new FormData(form)\n      this.sendToEmailService(data)\n      // this.sendToFakeEmailService()\n    }\n  }\n\n  handleChange = e => {\n    const { name, value } = e.target\n    const form = this.state.form\n    this.setState({ [name]: value })\n  }\n\n  validateForm(form) {\n    let errors = []\n    !form.name.value && errors.push(NAME_IS_EMPTY)\n    !form.email.value && errors.push(EMAIL_IS_EMPTY)\n    form.email.value &&\n      !form.email.value.match(EMAIL_FORMAT_REGEX) &&\n      errors.push(EMAIL_IS_NOT_FORMATTED)\n    !form.message.value && errors.push(MESSAGE_IS_EMPTY)\n    return errors\n  }\n\n  sendToFakeEmailService() {\n    let responseText = ''\n    const randomResponse = Math.random() > 0.5\n    this.setState({ loading: true })\n    setTimeout(() => {\n      responseText = randomResponse\n        ? 'We got your message. Thank you'\n        : 'Something went wrong. Please try again'\n      this.setState({\n        responseText,\n        loading: false,\n        name: '',\n        email: '',\n        message: '',\n      })\n    }, 3000)\n  }\n\n  sendToEmailService(data) {\n    fetch(\n      // 'https://getsimpleform.com/messages?form_api_token=9275a162832af0980b4902f51972cebc',\n      'https://formsubmit.io/send/kostas.siabanis@gmail.com',\n      {\n        method: 'POST',\n        // mode: 'no-cors',\n        redirect: 'manual',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          'Access-Control-Allow-Origin': '*',\n        },\n        body: data,\n      }\n    )\n      .then(response => {\n        console.log(response)\n        return response.json()\n      })\n      .then(jsonResponse => {\n        console.log(jsonResponse)\n      })\n      .catch(error => {\n        console.log(error)\n      })\n  }\n\n  render() {\n    const {\n      meta: { heading, form, address },\n      elemId,\n    } = this.props\n    const { name, email, message, errors, responseText, loading } = this.state\n    return (\n      <section id={elemId} className=\"contact\">\n        <div className=\"container\">\n          <h1 className=\"text-center pb-60\">{heading}</h1>\n          <div className=\"row\">\n            <div className=\"col-lg-6\">\n              <h4 className=\"pb-15\">{form.title}</h4>\n              <form\n                name=\"contactForm\"\n                onSubmit={e => this.handleSubmit(e, responseText)}\n                action=\"https://formspree.io/hello@thesquaredev.com\"\n                method=\"POST\"\n                noValidate\n              >\n                <div className=\"mt-15\">\n                  <input\n                    name=\"name\"\n                    type=\"text\"\n                    placeholder={form.namePlaceholder}\n                    maxLength=\"120\"\n                    className=\"single-input\"\n                    onChange={this.handleChange}\n                    value={name}\n                    required\n                  />\n                  {errors.includes('nameIsEmpty') && (\n                    <small className=\"form-text text-muted\">\n                      Please enter your name\n                    </small>\n                  )}\n                </div>\n                <div className=\"mt-15\">\n                  <input\n                    type=\"email\"\n                    name=\"email\"\n                    placeholder={form.emailPlaceholder}\n                    maxLength=\"120\"\n                    className=\"single-input\"\n                    onChange={this.handleChange}\n                    value={email}\n                    required\n                  />\n                  {errors.includes('emailIsEmpty') && (\n                    <small className=\"form-text text-muted\">\n                      Please enter an email address\n                    </small>\n                  )}\n                  {errors.includes('emailIsNotFormatted') && (\n                    <small className=\"form-text text-muted\">\n                      Please provide a valid email\n                    </small>\n                  )}\n                </div>\n                <div className=\"mt-15 pb-25\">\n                  <textarea\n                    name=\"message\"\n                    placeholder={form.messagePlaceholder}\n                    maxLength=\"1000\"\n                    rows=\"5\"\n                    className=\"single-textarea\"\n                    onChange={this.handleChange}\n                    value={message}\n                    required\n                  />\n                  {errors.includes('messageIsEmpty') && (\n                    <small className=\"form-text text-muted\">\n                      Please enter a message to send\n                    </small>\n                  )}\n                </div>\n                <FormActions\n                  loading={loading}\n                  responseText={responseText}\n                  submitBtnTxt={form.submitBtnTxt}\n                />\n                <input\n                  name=\"_formsubmit_id\"\n                  type=\"text\"\n                  style={{ display: 'none' }}\n                />\n              </form>\n            </div>\n            <div className=\"contact__address col-lg-6\">\n              <h4 className=\"pb-15\">{address.title}</h4>\n              <div className=\"d-flex pt-15\">\n                <div className=\"contact__address__icon\">\n                  <FontAwesomeIcon icon={faMapMarkerAlt} />\n                </div>\n                <div className=\"pl-30\">\n                  <div className=\"pb-10\">{address.line1}</div>\n                  <div className=\"pb-10\">{address.line2}</div>\n                  <div className=\"pb-10\">{address.country}</div>\n                </div>\n              </div>\n              <div className=\"d-flex pt-15\">\n                <div className=\"contact__address__icon\">\n                  <FontAwesomeIcon icon={faEnvelope} />\n                </div>\n                <div className=\"pl-30\">{address.email}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    )\n  }\n}\n\nexport default withLocation(withShowcase(Contact))\n","import React from 'react'\nimport Layout from '../components/layout/layout'\nimport Banner from '../components/banner/banner'\nimport Grid from '../components/grid/grid'\nimport CallToAction from '../components/callToAction/callToAction'\nimport Contact from '../components/contact/contact'\nimport ImageText from '../components/imageText/imageText'\nimport Cards from '../components/cards/cards'\nimport Hero from '../components/hero/hero'\nimport Pills from '../components/pills/pills'\nimport Quartet from '../components/quartet/quartet'\nimport NetworkGraph from '../components/networkGraph/networkGraph'\n\n/**\n * Utility to resolve the component in use\n * @param meta Component's meta\n * @param elemId Section's id, used for anchoring\n * @param i Index used for mapping\n */\nconst componentResolver = (meta, elemId, i) => ({\n  ['banner']: <Banner meta={meta} elemId={elemId} key={i} />,\n  ['grid']: <Grid meta={meta} elemId={elemId} key={i} />,\n  ['calltoaction']: <CallToAction meta={meta} elemId={elemId} key={i} />,\n  ['contact']: <Contact meta={meta} elemId={elemId} key={i} />,\n  ['imagetext']: <ImageText meta={meta} elemId={elemId} key={i} />,\n  ['cards']: <Cards meta={meta} elemId={elemId} key={i} />,\n  ['hero']: <Hero meta={meta} elemId={elemId} key={i} />,\n  ['pills']: <Pills meta={meta} elemId={elemId} key={i} />,\n  ['quartet']: <Quartet meta={meta} elemId={elemId} key={i} />,\n  ['networkgraph']: <NetworkGraph meta={meta} elemId={elemId} key={i} />,\n})\n\n/**\n * Component for laying out a default page\n * @param components\n */\nconst DefaultTemplate = ({ pageContext: { components } }) => (\n  <Layout>\n    {components.map((meta, i) => {\n      const comName = meta.name.toLowerCase()\n      const elemId = `${comName}${meta.position}`\n      return componentResolver(meta, elemId, i)[comName]\n    })}\n  </Layout>\n)\n\nexport default DefaultTemplate\n"],"sourceRoot":""}